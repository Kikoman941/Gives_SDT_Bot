CREATE TABLE public.users (
	id int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	tg_id text NOT NULL,
	is_admin bool NOT NULL DEFAULT false,
	CONSTRAINT users_pk PRIMARY KEY (id),
	CONSTRAINT users_un UNIQUE (tg_id)
);

CREATE TABLE public.users_states (
	user_id int4 NOT NULL,
	state text NOT NULL,
	CONSTRAINT users_states_un UNIQUE (user_id),
	CONSTRAINT users_states_fk FOREIGN KEY (user_id) REFERENCES public.users(id)
);

